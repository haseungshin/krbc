<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard</title>
    <style>
        .total-count {
            font-size: 24px;
        }
    </style>
    <script>
        function refreshTableList() {
            // Fetch the registered table numbers from the server
            fetch('https://kraserver.pythonanywhere.com/registered_tables')
                .then(response => response.json())
                .then(data => {
                    // Update the table list on the page
                    const tableList = document.getElementById('table-list');
                    tableList.innerHTML = '';

                    data.forEach(tableNumber => {
                        const listItem = document.createElement('li');
                        listItem.textContent = `Table: ${tableNumber}`;
                        tableList.appendChild(listItem);
                    });

                    // Update the total count
                    const totalCount = document.getElementById('total-count');
                    totalCount.textContent = `Total count: ${data.length}`;
                });
        }

        // Refresh the table list every 5 seconds
        setInterval(refreshTableList, 5000);
    </script>
</head>
<body onload="refreshTableList()">
    <h1>Admin Dashboard</h1>
    <ul id="table-list"></ul>
    <p id="total-count" class="total-count"></p> <!-- Add this element for the total count -->
</body>
</html>

